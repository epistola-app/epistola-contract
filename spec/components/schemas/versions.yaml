VersionDto:
  type: object
  description: Template version with content and lifecycle state. The id field IS the version number (1-200).
  required:
    - id
    - variantId
    - status
    - createdAt
  properties:
    id:
      type: integer
      minimum: 1
      maximum: 200
      description: Version identifier (also the version number, 1-200)
      example: 1
    variantId:
      type: string
      pattern: '^[a-z][a-z0-9]*(-[a-z0-9]+)*$'
      minLength: 3
      maxLength: 50
      description: Slug identifier of the variant this version belongs to
      example: english
    templateModel:
      type: object
      description: The template model defining the document structure
      example:
        blocks:
          - type: header
            content: "Invoice {{invoiceNumber}}"
          - type: paragraph
            content: "Dear {{customerName}},"
    status:
      type: string
      enum:
        - draft
        - published
        - archived
      description: Lifecycle status of this version
      example: published
    createdAt:
      type: string
      format: date-time
      description: Timestamp when the version was created
      example: "2026-01-22T09:00:00Z"
    publishedAt:
      type:
        - string
        - 'null'
      format: date-time
      description: Timestamp when the version was published
      example: "2026-01-25T14:00:00Z"
    archivedAt:
      type:
        - string
        - 'null'
      format: date-time
      description: Timestamp when the version was archived
      example: null

VersionSummaryDto:
  type: object
  description: Summary view of a version for list displays. The id field IS the version number (1-200).
  required:
    - id
    - variantId
    - status
    - createdAt
  properties:
    id:
      type: integer
      minimum: 1
      maximum: 200
      description: Version identifier (also the version number, 1-200)
      example: 1
    variantId:
      type: string
      pattern: '^[a-z][a-z0-9]*(-[a-z0-9]+)*$'
      minLength: 3
      maxLength: 50
      description: Slug identifier of the variant this version belongs to
      example: english
    status:
      type: string
      enum:
        - draft
        - published
        - archived
      description: Lifecycle status of this version
      example: published
    createdAt:
      type: string
      format: date-time
      description: Timestamp when the version was created
      example: "2026-01-22T09:00:00Z"
    publishedAt:
      type:
        - string
        - 'null'
      format: date-time
      description: Timestamp when the version was published
      example: "2026-01-25T14:00:00Z"
    archivedAt:
      type:
        - string
        - 'null'
      format: date-time
      description: Timestamp when the version was archived
      example: null

UpdateDraftRequest:
  type: object
  description: Request body for updating a draft version
  properties:
    templateModel:
      type: object
      description: Template model structure
      example:
        blocks:
          - type: header
            content: "Invoice {{invoiceNumber}}"
          - type: paragraph
            content: "Dear {{customerName}},"

VersionListResponse:
  type: object
  description: List of template versions
  required:
    - items
  properties:
    items:
      type: array
      description: List of versions
      items:
        $ref: '#/VersionSummaryDto'
